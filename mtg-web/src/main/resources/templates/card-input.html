<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Enter Card Names</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous"
    />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
          integrity="sha384-4LISF5TTJX/fLmGSxO53rV4miRxdg84mZsxmO8Rx5jGtp/LbrixFETvWa5a6sESd"
          crossorigin="anonymous"
    />
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        textarea {
            font-family: monospace;
            resize: vertical;
        }
    </style>
    <script>
        function setAction(action) {
            const form = document.getElementById("cardListForm");
            form.action = action;
        }
    </script>
</head>
<body>
<!-- Include header -->
<div th:replace="~{fragments/header :: body}"></div>
<div class="container py-5 magic-card-frame">
    <h1 class="mb-4">Paste Card Names</h1>
    <form id="cardListForm" th:action="@{/search/checklist}" method="post">
        <div class="mb-3">
            <label for="cardNames" class="form-label">Enter one card name per line:</label>
            <textarea th:text="${cardNames}" id="cardNames" name="cardNames" class="form-control"
                      placeholder="Lightning Bolt&#10;1 Black Lotus&#10;2x Counterspell"
                      aria-labelledby="cardNamesLabel"
                      aria-describedby="cardNamesHelp"
                      rows="10" required></textarea>
        </div>
        <div class="mb-3">
            <fieldset aria-describedby="gameTypeHelp">
                <legend class="form-label">Select game types:</legend>
                <div id="gameTypeHelp" class="form-text">
                    Choose one or more platforms where you play Magic.
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="gameTypes" value="arena" id="arena"
                           aria-labelledby="labelArena">
                    <label class="form-check-label" for="arena" id="labelArena">Arena</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="gameTypes" value="paper" id="paper"
                           aria-labelledby="labelPaper" checked aria-checked="true">
                    <label class="form-check-label" for="paper" id="labelPaper">Paper</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="gameTypes" value="mtgo" id="mtgo"
                           aria-labelledby="labelMTGO">
                    <label class="form-check-label" for="mtgo" id="labelMTGO">MTGO</label>
                </div>
            </fieldset>
        </div>
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary" onclick="setAction('/search/checklist')"
                    aria-label="Generate checklist from entered card names">
                Generate Checklist
            </button>
            <button type="submit" class="btn btn-outline-success" onclick="setAction('/search/decklist')"
                    aria-label="Generate decklist from entered card names">
                Generate Decklist
            </button>
            <button type="reset" class="btn btn-outline-secondary"
                    aria-label="Clear all form inputs">
                Clear
            </button>
        </div>
    </form>
</div>
</body>
</html>